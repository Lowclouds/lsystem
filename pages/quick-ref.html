<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2024-09-16 Mon 17:19 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>L-System Explorer Quick Guide</title>
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
</style>
</head>
<body>
<div id="content" class="content">
<h1 class="title">L-System Explorer Quick Guide</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org8b3f6e3">1. Intro</a></li>
<li><a href="#orgd71d731">2. Modules</a>
<ul>
<li><a href="#orga49d151">2.1. Turtle Motion</a></li>
<li><a href="#orgdfb5623">2.2. Turtle Orientation</a></li>
<li><a href="#orga3a1c41">2.3. Turtle Settings</a></li>
<li><a href="#org9e26d00">2.4. Turtle Geometry</a></li>
<li><a href="#orgc1436cf">2.5. L-system Geometry and Control</a></li>
</ul>
</li>
<li><a href="#org6f3cf48">3. L-System Syntax</a>
<ul>
<li><a href="#orgdf1fdac">3.1. Rule-based systems</a>
<ul>
<li><a href="#orgec4229a">3.1.1. Modules</a></li>
<li><a href="#org0cce086">3.1.2. Axiom</a></li>
<li><a href="#orgb719c76">3.1.3. Productions</a></li>
<li><a href="#org3e08bdd">3.1.4. Production Contexts</a></li>
<li><a href="#org22a38fd">3.1.5. Matching Order</a></li>
<li><a href="#org7b4ae4f">3.1.6. Conditional Tests</a></li>
</ul>
</li>
<li><a href="#orgd9a6fab">3.2. Pre-parsing</a>
<ul>
<li><a href="#org6b3ce47">3.2.1. Comments</a></li>
<li><a href="#orgc0ebc4e">3.2.2. Defines</a></li>
</ul>
</li>
<li><a href="#orgb404327">3.3. Settings</a></li>
<li><a href="#org5dd60cf">3.4. Variables</a></li>
<li><a href="#org8d3f619">3.5. Expressions</a></li>
</ul>
</li>
<li><a href="#orgbf5090c">4. UI and controls</a>
<ul>
<li><a href="#orgdc38419">4.1. File, Settings, and Help</a></li>
<li><a href="#orgcf2ad1a">4.2. L-system controls</a></li>
<li><a href="#org11fc391">4.3. Turtle controls</a></li>
<li><a href="#orgd9e6a05">4.4. Scene Controls</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-org8b3f6e3" class="outline-2">
<h2 id="org8b3f6e3"><span class="section-number-2">1.</span> Intro</h2>
<div class="outline-text-2" id="text-1">
<p>
If you just can't remember what the module for yaw is, go to the <a href="#orgdfb5623">Turtle Orientation</a> section.
</p>

<p>
If you need a bit more info on L-System syntax, skip to that section, <a href="#org6f3cf48">L-System Syntax</a>
</p>

<p>
If you'd like to see some examples of L-Systems, select the <b>Examples</b> menu
item on the main page and wander through the samples there, many of which 
have long comments.
</p>
</div>
</div>

<div id="outline-container-orgd71d731" class="outline-2">
<h2 id="orgd71d731"><span class="section-number-2">2.</span> Modules</h2>
<div class="outline-text-2" id="text-2">
<p>
   A module is either a single character, or some system-defined
sequences of characters. The behavior/meaning of the system-defined
modules is described below.  Note, that I've only tested US Ascii
characters, others may or may not work. An L-system consists of the
sequence of characters and the production rules that modify them: see
L-System Syntax, below.
</p>

<p>
   Why are they called modules and not commands or something else?
Because module is an old term used by botanists for a unit of growth 
("article" in French from the Latin for branch and translated to 
module in English.)
</p>

<p class="verse">
Modules marked <b>u</b> are <b>unimplemented</b><br />
Modules marked <b>p</b> are <b>partially implemented</b><br />
Modules marked <b>c</b> are <b>changed from TABOP/cpfg</b><br />
Modules marked <b>n</b> are <b>new for this implementation</b><br />
</p>
</div>

<div id="outline-container-orga49d151" class="outline-3">
<h3 id="orga49d151"><span class="section-number-3">2.1.</span> Turtle Motion</h3>
<div class="outline-text-3" id="text-2-1">
<p>
Without a parameter move 'step' amount, default 1 unit
</p>
<p class="verse">
<b>Motion Modules</b><br />
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">F(d)</td>
<td class="org-left">move d units w/pen down, records track point, creates geometry</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">f(d)</td>
<td class="org-left">move d units w/pen up, records track point</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">G(d)</td>
<td class="org-left"><code>==</code>  F(d), but does not record track points, creates geometry</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">g(d)</td>
<td class="org-left"><code>==</code>  f(d), w/o recording track points</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">@[Mm](x,y,z)</td>
<td class="org-left">goto position, 'M' draw, creates geometry, or 'm' don't draw</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgdfb5623" class="outline-3">
<h3 id="orgdfb5623"><span class="section-number-3">2.2.</span> Turtle Orientation</h3>
<div class="outline-text-3" id="text-2-2">
<p class="verse">
&#xa0;&#xa0;The turtle maintains three unit vectors, heading (<b>H</b>), left (<b>L</b>), and up (<b>U</b>).<br />
&#xa0;&#xa0;The turtle home orientation is <b>H</b> = <b>+x</b>, <b>L</b> = <b>+z</b>, and <b>U</b> = <b>+y</b>,<br />
&#xa0;&#xa0;but L-system Explorer pitches up 90 degrees, initially, so <b>H</b> points <b>+y</b> and <b>L</b> points <b>-x</b>.<br />
<br />
&#xa0;&#xa0;<b>*</b> positive yaw (left) rotates <b>H</b> towards <b>L</b> around <b>U</b>. (<b>x</b> -&gt; <b>z</b> around <b>y</b>)<br />
&#xa0;&#xa0;<b>*</b> positive pitch (down) rotates <b>U</b> towards <b>H</b> around <b>L</b>. (<b>y</b> -&gt; <b>x</b> around <b>z</b>)<br />
&#xa0;&#xa0;<b>*</b> positive roll rotates <b>L</b> towards <b>U</b> around <b>H</b>. (<b>z</b> -&gt; <b>y</b> around <b>x</b>)<br />
<br />
&#xa0;&#xa0;Without a parameter, a turn is 'delta' degrees, default is 90. Change delta<br />
in an L-system with the line:<br />
<br />
&#xa0;&#xa0;&#xa0;delta = DD        ​/* where DD is your angle in degrees *​/<br />
<br />
&#xa0;&#xa0;<b>Note</b> We make the turtle behave as if it were in a right-handed system, but all the<br />
&#xa0;&#xa0;underlying Babylonjs is left-handed. This has some odd consequences when comparing<br />
&#xa0;&#xa0;models with TABOP. <i>If I'd known I could just tell Babylonjs to use a RHS, things<br />
&#xa0;&#xa0;would have been simpler.</i><br />
<br />
&#xa0;&#xa0;<b>Orientation modules</b><br />
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">+(a)</td>
<td class="org-left">yaw left 'a' degrees    ('a' optional)</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">-(a)</td>
<td class="org-left">yaw right 'a' degrees   ('a' optional)</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&amp;(a)</td>
<td class="org-left">pitch down 'a' degrees  ('a' optional)</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">^(a)</td>
<td class="org-left">pitch up 'a' degrees    ('a' optional)</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">\(a)</td>
<td class="org-left">roll left 'a' degrees   ('a' optional)</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">/(a)</td>
<td class="org-left">roll right 'a' degrees  ('a' optional)</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&vert;</td>
<td class="org-left">yaw 180 degrees</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">@v</td>
<td class="org-left">roll so U is parallel to up [y]</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">@R(hx,hy,hz[,ux,uy,uz])</td>
<td class="org-left">set heading to [hx,hy,hz]</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">set U parallel to [ux,uy,z], if supplied</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">@H(h)               <b>n</b></td>
<td class="org-left">set turtle to home position and orientation,</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">if optional h is 0, then set H to +y,</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">otherwise, H is +x. Does not draw or record point</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orga3a1c41" class="outline-3">
<h3 id="orga3a1c41"><span class="section-number-3">2.3.</span> Turtle Settings</h3>
<div class="outline-text-3" id="text-2-3">
<p>
Defaults without a parameter to one
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">;(i)</td>
<td class="org-left">increase or set color/material index</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">,(i)</td>
<td class="org-left">decrease or set color/material index</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">@;(n) <b>u</b></td>
<td class="org-left">increase or set back face color/material index</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">@,(n) <b>u</b></td>
<td class="org-left">decrease or set back face color/material index</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">#(n)</td>
<td class="org-left">increase or set line width</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">!(n)</td>
<td class="org-left">decrease or set line width</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">@Tx(n) <b>u</b></td>
<td class="org-left">set texture index</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">@D(s) <b>u</b></td>
<td class="org-left">set scale factor of subsequent geometry</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">@Di(f) <b>u</b></td>
<td class="org-left">multiply scale factor by f</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org9e26d00" class="outline-3">
<h3 id="org9e26d00"><span class="section-number-3">2.4.</span> Turtle Geometry</h3>
<div class="outline-text-3" id="text-2-4">
<p>
In addition to orientation and color/material, the turtle also maintains a <i>track shape</i>,
which is the shape that it will extrude in moving when the pen is down. The default track
shape is a circle with an initial size, as in diameter, of one.
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">@o(d)</td>
<td class="org-left">circle of diameter d, centered at turtle position</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">@C(d) <b>u</b></td>
<td class="org-left">circle of diameter d in HL plane</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">@O(d)</td>
<td class="org-left">sphere of diameter d</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">~(S,s) <b>c</b></td>
<td class="org-left">insert predefined surface S, with optional scale, s</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">@Cs(n[,t]) <b>n</b></td>
<td class="org-left">start contour with n final pts. n==0 =&gt; use just the control pts</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">t ​=​= 0 =&gt; open contour (default), t =​= 1 =&gt; closed</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">@Ce(id) <b>n</b></td>
<td class="org-left">end contour and save it as id (number or string)</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">@Ca([t[,a]]) <b>n</b></td>
<td class="org-left">if t=0 (default), create arc between previous 3 pts</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">if t=1, create arc from previous two points, w/ctr at p0,</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">start at p1, with angle a</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">@Cc([n[,t]]) <b>n</b></td>
<td class="org-left">create Catmull-Rom spline from previous n points</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">n == 0 (default) will use <b>all</b> prior generated points.</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">t==0 =&gt; open (default) , else closed curve.</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">This will add 1 + m *(n - (t==0) ? 1 : 0) points to the contour,</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">where m = contour points per segment (default = 16)</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">@Ct(m1,m2) <b>n</b></td>
<td class="org-left">create Hermite spline from previous two points, with optional</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">length multipliers m1 and m2</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">@Cb    <b>n</b></td>
<td class="org-left">Create a cubic Bezier spline segment from prior four points</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">@Cm(m) <b>n</b></td>
<td class="org-left">create contour of multiplicity m, default 1, only if closed type</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">@Cn(n) <b>n</b></td>
<td class="org-left">Set the number of points per segment (default = 16). This is for</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">inserted arcs or  splines; control pts inserted with '.' or f, or g</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">are used as is. Total points is overridden by initial @Cs(n), if n != 0</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">@#(id)</td>
<td class="org-left">set contour(id) as current track shape. The special id, 'default',</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">sets the default circle as the track shape</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">{</td>
<td class="org-left">start polygon</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">{(0)  <b>c</b></td>
<td class="org-left">start path with stepwise control pts, not polygon</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">{(1)</td>
<td class="org-left">start open path with Hermite spline control pts</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">{(2) <b>u</b></td>
<td class="org-left">start closed path with Hermite spline control pts</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">{(3) <b>u</b></td>
<td class="org-left">start open path with B-spline control pts</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">{(4) <b>u</b></td>
<td class="org-left">start closed path with B-spline control pts</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">}[(id)] <b>p</b></td>
<td class="org-left">end current polygon/path of any type and extrude contour, With</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">parameter, id, save path as mesh</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">@Gs</td>
<td class="org-left">start Hermite spline path, same as '{(1).', i.e. saves point</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">@Ge(n,id) <b>c</b></td>
<td class="org-left">close path started with @Gs. if n, set # intermediate points.</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">If 'id', save extrusion as mesh</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">.</td>
<td class="org-left">add current position to path, polygon, or contour</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">@Gt(m1,m2)</td>
<td class="org-left">Set tangent length multipliers - default is 1.2</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">@Gr(a1,l1,a2,l2)</td>
<td class="org-left">Set slope and length of tangent vectors for radius curve</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">@Gc(n)       <b>p</b></td>
<td class="org-left">Store control point. Optionally set number of interpolated strips</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgc1436cf" class="outline-3">
<h3 id="orgc1436cf"><span class="section-number-3">2.5.</span> L-system Geometry and Control</h3>
<div class="outline-text-3" id="text-2-5">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">[</td>
<td class="org-left">start branch, pushing state onto stack</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">]</td>
<td class="org-left">end branch, popping branch state stack</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">% <b>p</b></td>
<td class="org-left">cut modules to end of branch</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">$(id,scale) <b>c</b></td>
<td class="org-left">push current Lsystem and use sub-Lsystem id</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">$</td>
<td class="org-left">end current sub-Lsystem, return to previous</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-org6f3cf48" class="outline-2">
<h2 id="org6f3cf48"><span class="section-number-2">3.</span> L-System Syntax</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-orgdf1fdac" class="outline-3">
<h3 id="orgdf1fdac"><span class="section-number-3">3.1.</span> Rule-based systems</h3>
<div class="outline-text-3" id="text-3-1">
<p>
An L-System is a rule-based object defined on a set of symbols; formal grammars
are available in the literature, e.g. <a href="http://algorithmicbotany.org/papers/hanan.dis1992.pdf">Hanan thesis</a>. Here, we'll be far less
strict, and attempt to describe how to create one.
</p>

<p>
In outline, you begin with an axiom, which is a sequence of symbols called
'modules', and provide a set of rules, called, productions, which modify the
axiom based which production matches the module currently encountered. Some
strict L-systems can be evaluated in parallel, but this implementation cannot do
that. We evaluate strictly from left to right, with some caveats. Note that
context dependenct rules do not strictly rule out parallel evaluation, but
variables, both global and local make it difficult and, in some cases,
impossible to avoid nonsensical results.
</p>

<p>
Evaluation procedes in steps: the entire input string/axiom is completely
rewritten before the next step. When all modules have been evaluated and
substitutions made, the result string becomes the input for the next evaluation
step.
</p>
</div>
<div id="outline-container-orgec4229a" class="outline-4">
<h4 id="orgec4229a"><span class="section-number-4">3.1.1.</span> Modules</h4>
<div class="outline-text-4" id="text-3-1-1">
<p>
A module is one of
</p>
<ul class="org-ul">
<li>a single, case-sensitive character,</li>
<li>a single, case-sensitive character with a parenthesised argument list,
i.e. it looks like a function call,</li>
<li>a system-defined sequence starting with @, which may contain more than one 
character.</li>
</ul>

<p>
Modules with arguments are called parameterized modules. In the case of context
matching (see below), a parameterized module with the same character as a
non-parameterized module will not match. The arguments are typically numeric,
but in some system-provided modules they may be strings, or, potentially, any
valid Javascript object. Examples:
</p>

<pre class="example">
aAa(1)A(1)  is an L-System string with four different modules: a, A, a(1), A(1)
</pre>


<p>
   The system-defined modules implement branching and the turtle interpretation
of the L-system. Their behavior can't be overridden, but the matching and
production rules apply equally to them. Many system-defined modules are multi-
character sequences starting with @, such as @#(id). Perhaps, I'll add a user-
defined multi-character module, say, @Uxyz(&#x2026;).
</p>

<p>
   The arguments of parametric modules in the axiom are constant values. In the
predecessor they are dummy variables, and in the successor, they may be
constants, variables, or expressions which are evaluated before being
substituted into the result string as constant values. The actual value of the
parameter is substituted into the dummy variable at match time.
</p>
</div>
</div>

<div id="outline-container-org0cce086" class="outline-4">
<h4 id="org0cce086"><span class="section-number-4">3.1.2.</span> Axiom</h4>
<div class="outline-text-4" id="text-3-1-2">
<p>
   This is the starting sequence of modules, and can be any valid
sequence. The L-system is evaluted in discreet steps, where every module
is evaluated in each step. So, you can think of the axiom as the
starting point of each interation, but we will refer to it as the
result 'string'. If you define a derivation length, we will do that many
interations, otherwise the result is just the axiom.  Declare the axiom
like this:
</p>

<p>
axiom: &lt;modules&gt;
</p>

<p>
e.g. an axiom with three modules:
</p>

<p>
axiom: CA(10)B
</p>
</div>
</div>

<div id="outline-container-orgb719c76" class="outline-4">
<h4 id="orgb719c76"><span class="section-number-4">3.1.3.</span> Productions</h4>
<div class="outline-text-4" id="text-3-1-3">
<p>
   A production has two main parts, the predecessor and the successor,
which most simply is:
</p>

<pre class="example">
P --&gt; S
</pre>


<p>
where P is a single module and S is a sequence of one or more modules
which will replace P in the axiom. 
</p>

<p>
The default rule, if no production matches, is to move the module to the result string, i.e.:
</p>

<pre class="example">
P --&gt; P
</pre>


<p>
As a special case, if S is "*", then, P will be removed from the string.
</p>

<p>
The predecessor can be more complicated though, and more formally is:
</p>

<pre class="example">
[left-context &lt; ] strict-predecessor [ &gt; right-context] [ : condition ]
</pre>


<p>
Things in brackets may be omitted. In addition, the condition may be more complex, see below.  
</p>

<p>
Finally, note the header line after parsing, which tells you exactly what the parser saw: 
</p>

<pre class="example">
rules:= {pre, strict, post} {cond} {succ} {scope}
</pre>


<p>
The {scope} term just tells you what variables, if any, are in scope for each production,
and is only there for information.
</p>
</div>
</div>

<div id="outline-container-org3e08bdd" class="outline-4">
<h4 id="org3e08bdd"><span class="section-number-4">3.1.4.</span> Production Contexts</h4>
<div class="outline-text-4" id="text-3-1-4">
<p>
   Context-sensitive matching is optional, and is based on what precedes or
follows a module, or both, reading the string from left to right. The left context 
is separated from the strict predecessor by '&lt;', and the right context by 
the '&gt;' characters. Example:
</p>

<pre class="example">
abc &lt; d &gt; efg  , which matches d in the string, ...abcdef...
</pre>


<p>
   Branches introduce an apparent non-locality in matching; consider the
following predecessor and strings:
</p>

<pre class="example" id="org2505eeb">
predecessor:   a &lt; b &gt; c

string 1:     aaa[bc]ddd    *matches*
string 2:     aaa[b]cddd    *does NOT match*
string 3:     [aaa]bcddd    *does NOT match*
</pre>

<p>
   The way to think about this is that the right bracket, ], denotes the
end of a branch, which, topologically, is not next to whatever follows it
in the string representation of the tree. The left bracket, [, starts a
branch, so the immediate neighbors of 'a' are 'b' and 'd' in string 1. For
string 1, the predecessor, a &gt; d,  would also match.
</p>

<p>
   It is possible to control which modules should be used in matching with the 
directives, <b>include:</b> and <b>exclude:</b>. For example, 
</p>

<pre class="example">
exclude: FG
</pre>


<p>
    Tells the matcher to ignore and skip, the modules F or G if they are encountered
when looking for a match, e.g.:
</p>

<pre class="example">
a &lt; b , given the string aFGFGb, would produce a match.
</pre>


<p>
    Conversely, it is possible to consider only certain modules by using the include
directive:
</p>

<pre class="example">
include: ab
</pre>


<p>
then, only a and be are considered when matching, so, "a &lt; b" matches any string
where "a" precedes "b" with any intervening modules, except for the branching rules, above.
</p>
</div>
</div>

<div id="outline-container-org22a38fd" class="outline-4">
<h4 id="org22a38fd"><span class="section-number-4">3.1.5.</span> Matching Order</h4>
<div class="outline-text-4" id="text-3-1-5">
<p>
   Rules are matched in top-down order, with the caveat that the
most-specific match which occurs first will be used. This means the rule
which has the longest context. Example, given the following rules:
</p>

<pre class="example" id="org69f4377">
p1: a --&gt; aa
p2: b(i) &lt; a --&gt; c
p3: bb(i) &lt; a : i &lt; 10 --&gt; d
p4: bb(i) &lt; a : i &lt; 5 --&gt; c

and the string, bbb(4)a, the result will be: 

bbb(4)d
</pre>

<p>
because p3 is more specific, i.e. it has a longer context, than p1 or p2, 
and has the same specificity as p4, but it comes first.
</p>
</div>
</div>

<div id="outline-container-org7b4ae4f" class="outline-4">
<h4 id="org7b4ae4f"><span class="section-number-4">3.1.6.</span> Conditional Tests</h4>
<div class="outline-text-4" id="text-3-1-6">
<p>
   The simplest condition is a test, which is an expression
that returns true or false and follows mathjs syntax and expression
rules. For example:
</p>

<pre class="example">
A(i) : i&lt;10 --&gt; F(i)A(i+1)
</pre>


<p>
If the string were  BCA(1), it would be expanded to BCF(1)A(2).
</p>

<p>
However, since a condition is 
</p>

<pre class="example">
[pre-condition] test [post-condition]
</pre>


<p>
 where both pre- and post-condition have the format {expression} or are empty. 
Again, an expression is any valid mathjs expression that can use dummy variables
in the current production, or local or global variables. The pre-condition is 
evaluated before the test, so you can compute values needed for the test. 
The post-condition is evaluated after both the pre-condition and the test
and can be used to compute substitutions in the successor after a successful
test. It's possible to use the post-condition without either pre-condition
or test by inserting a '*' for the test:
</p>

<pre class="example" id="orgb3b0bb6">
v=0
axiom: bbb(4)a
bb(i) &lt; a : * {v=i} -&gt; d(v)
</pre>

<p>
In the UI, the parse of this system is shown as:
</p>

<pre class="example" id="orgeb03019">
axiom = bbb(4)a
rules:= {pre, strict, post} {cond} {succ} {scope}
{b,b(i),a,}{,true,v=i}{d(v)}{has scope}
</pre>

<p>
Here, the condition is shown as {,true,v=i}, where the pre-condition
is empty, test is true, and the post-condition is v=i.
</p>

<p>
Evaluating the L-system results in: 
</p>

<pre class="example">
bbb(4)d(4)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd9a6fab" class="outline-3">
<h3 id="orgd9a6fab"><span class="section-number-3">3.2.</span> Pre-parsing</h3>
<div class="outline-text-3" id="text-3-2">
<p>
   Before parsing, the L-system text is run through a JavaScript cpp-like
parser which handles comments and macro defines. After that, all empty
lines and removed and the system is parsed. See <a href="https://github.com/acgessler/cpp.js/blob/master/Readme.md">cpp.js README</a> for
details on how this differs from standard CPP.
</p>
</div>
<div id="outline-container-org6b3ce47" class="outline-4">
<h4 id="org6b3ce47"><span class="section-number-4">3.2.1.</span> Comments</h4>
<div class="outline-text-4" id="text-3-2-1">
<p>
C-style comments, '/​* stuff, including newline */​' are
supported.\\ Single-line '//' style comments are not - they conflict
with L-system module syntax.
</p>
</div>
</div>
<div id="outline-container-orgc0ebc4e" class="outline-4">
<h4 id="orgc0ebc4e"><span class="section-number-4">3.2.2.</span> Defines</h4>
<div class="outline-text-4" id="text-3-2-2">
<p>
   Lines that start with '#define macro value', 'macro' being some word,
create standard C-style macros where 'macro' is replaced with 'value' in
the L-system before parsing starts. They are not as powerful as cpp.
</p>
</div>
</div>
</div>
<div id="outline-container-orgb404327" class="outline-3">
<h3 id="orgb404327"><span class="section-number-3">3.3.</span> Settings</h3>
<div class="outline-text-3" id="text-3-3">
<p>
   Before the axiom is specified, settings variables can be set for the
L-system.  The following settings can be used to control default/initial
L-system values, using standard syntax, i.e. var = value. Multiple
settings on the same line must be separated by a semi-colon. <b>Note</b> that
the view setting is a JS object with the properties 'position' and
'target', whose values are JS arrays of X,Y,Z coordinates.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><b>stemsize</b></td>
<td class="org-left">width of extrusion. default: 0.1</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><b>delta</b></td>
<td class="org-left">angle in degrees of yaw, pitch, and roll. default: 90</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><b>step</b></td>
<td class="org-left">distance traveled by F,f,G,g modules. default: 1</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><b>view</b></td>
<td class="org-left"><b>position:</b> 3D position of viewer/camera.</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left"><b>target:</b> 3D position of view/camera target.</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">e.g. view = {position: [20,20,5], target: [0,8,0]}</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#x2014; or ---</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">auto: direction</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">where direction is one of 'X', '-X', 'Y', '-Y', 'Z', '-Z', or</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">a direction array defining where the camera position should</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">be. The target is always the center of the bounding sphere</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">of the drawn geometry and the distance from the target is</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">about twice the radius of the bounding sphere.</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">e.g. view = {auto: 'y'} will look down on the XY plane. Note,</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">case-insensitivity and quotes.</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#x2014; or ---</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">view = {auto: [1,1,1]} will place the camera on a line through</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">the target center parallel to the vector 1,1,1, looking at the</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">target</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">The default view is {auto: 'X'}</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org5dd60cf" class="outline-3">
<h3 id="org5dd60cf"><span class="section-number-3">3.4.</span> Variables</h3>
<div class="outline-text-3" id="text-3-4">
<p>
   Variables used in the L-system can be set and used in the rules. If
you define and set a variable before the lsystem: keyword, it will be
global across the main L-system and any sub-L-systems. If the variable
is set after the lsystem: keyword, it is local to that L-system. Module
parameter variables are local to the rule they are used in.  However,
since global and L-system local variables can be used in rule
expressions along with module parameters, it's best not to have name
conflicts.  For example if you have a parameterized module like, A(t),
then defining a global or L-system scope variable, t, may cause you
grief. LS Explorer uses a dynamic scoping mechanism where it looks for
variables first in rule scope, then L-system scope, and, finally, global
scope.
</p>
</div>
</div>
<div id="outline-container-org8d3f619" class="outline-3">
<h3 id="org8d3f619"><span class="section-number-3">3.5.</span> Expressions</h3>
<div class="outline-text-3" id="text-3-5">
<p>
  Expressions occur in tests, parameters, and pre/post test; they
follow mathjs syntax: <a href="https://mathjs.org/docs/expressions/syntax.html">Expression syntax for mathjs</a>.
</p>

<p>
Of particular note, are the logical operators which must be written
explicitly as
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><b>and</b></td>
<td class="org-left">instead of <b>'&amp;&amp;'</b></td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><b>or</b></td>
<td class="org-left">instead of <b>'&vert;&vert;'</b></td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><b>not</b></td>
<td class="org-left">instead of <b>'!'</b></td>
</tr>
</tbody>
</table>

<p>
for example:
</p>
<pre class="example">
(t &gt; 0) and not u, instead of  (t &gt; 0) &amp;&amp; !u
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbf5090c" class="outline-2">
<h2 id="orgbf5090c"><span class="section-number-2">4.</span> UI and controls</h2>
<div class="outline-text-2" id="text-4">
<ul class="org-ul">
<li>subject to constant change - but may still look like the following
On the top is a menu bar, below that the 3D drawing canvas is on the left, 
and the L-system controls and text is on the right. You can resize the 
relative width of these two.</li>
</ul>
</div>
<div id="outline-container-orgdc38419" class="outline-3">
<h3 id="orgdc38419"><span class="section-number-3">4.1.</span> File, Settings, and Help</h3>
<div class="outline-text-3" id="text-4-1">
<p>
Across the top of the tab is a bar that has the file name of the current
L-system on the left. On the right are  menus for loading and saving files,
controlling settings, and getting help
</p>
<ul class="org-ul">
<li><b>File</b> allows you to load or save anlsystem locally. It is a text file, 
typically with a .ls extension. If you have generated an L-system, you 
can save it as a 3D mesh.</li>
<li><b>Examples</b> toggles the list of example lsystems on/off.</li>
<li><b>Settings</b> gives you control of some system settings, like auto-load on start,
auto-build on load, use of multiple turtles, and use of instances vs mesh
clones.
When multi-turtles is on, the interpretation/drawing creates a new turtle 
for each branch and then gives each turtle one step on its branch in a 
round-robin draw mode. When a turtle reaches the end of the branch it is 
destroyed. This mode typically appears more natural, however there are 
several operations, including TABOP nested polygon productions, that do
not work in this mode, so it's best to turn it off if things look wonky.
It's also much slower in some circumstances.</li>
</ul>
</div>
</div>

<div id="outline-container-orgcf2ad1a" class="outline-3">
<h3 id="orgcf2ad1a"><span class="section-number-3">4.2.</span> L-system controls</h3>
<div class="outline-text-3" id="text-4-2">
<p>
This is toolbar on the top of the right pane. Here, are controls to build,
step, parse, rewrite, and draw the L-system. You can also turn on code
generation and save a mesh model.
</p>
<ul class="org-ul">
<li><b>Build</b> will clear geometry, reset the turtle, re-parse, and rewrite the 
L-system  before drawing.</li>
<li><b>Step</b> will do one iteration step of the the L-system, i.e. one rewrite
step and one draw, no matter how many interations are specified in
the L-system spec. As a special case, if the <b>Parse</b> button is used
to reparse and recreate the L-system, <b>Step</b> will initially write and
interpret just the axiom; subsequent steps will clear the previous
geometry, rewrite one step of the L-system, and redraw it.</li>
<li><b>Parse</b> this button will parse whatever text is in the L-system source area,
re-create the current L-system and show the result in the L-system
Expansion text box. If you make changes to the L-system, choose this
first.</li>
<li><b>Rewrite</b> will rewrite the parsed L-system, and, again, place the result
in the L-system Expansion box.</li>
<li><b>Draw</b> will interpret the expanded system and draw the geometry on the
canvas. Note, that <b>Draw</b> neither moves the turtle, nor clears or resets
any previously drawn geometry.</li>
<li><b>Gen Code</b> causes the interpretation to generate the turtle code that
it uses to draw the geometry. This is simpler in single turtle
mode. This should run standalone (with the Turtle3d class) to
generate the geometry</li>
</ul>
</div>
</div>

<div id="outline-container-org11fc391" class="outline-3">
<h3 id="org11fc391"><span class="section-number-3">4.3.</span> Turtle controls</h3>
<div class="outline-text-3" id="text-4-3">
<p>
Below the L-system controls are the turtle controls.
</p>

<ul class="org-ul">
<li><b>Hide/Show</b> will hide or show the turtle shape, which is a mini axis of the 
HLU system of the turtle. Note that the size of the turtle axes is 0.5 units.</li>
<li><b>Home</b> moves the turtle back to 0,0,0 and orients it along the axes, facing up.</li>
<li><b>Reset</b> is the same as <b>Clear</b> and <b>Home</b></li>
<li><b>Clear</b> will clear all the geometry generated by the turtle(s).</li>
<li><b>Show/Hide Color Table</b> to theright displays the current color/material table</li>
<li><b>Show Positions</b> overlay positions of the turtle and the camera on the draw
canvas. This can help setting up view parameters.</li>
</ul>
</div>
</div>
<div id="outline-container-orgd9e6a05" class="outline-3">
<h3 id="orgd9e6a05"><span class="section-number-3">4.4.</span> Scene Controls</h3>
<div class="outline-text-3" id="text-4-4">
<ul class="org-ul">
<li><b>Look at Turtle</b> orients the camera so the turtle is in the center of 
view, or you can pick the origin, or the center of the drawn geometry
bounding sphere. Helpful if you've lost track of where you are when 
navigating around.</li>
<li><b>Scene Menu</b>
Here you can toggle visibility of the Ground, Sky, coordinate axes,
and gridded planes on the primary axes. The latter can help to debug
size issues.
You can also toggle grids on the XY, YZ, or XZ planes to help debugging
sizes.</li>
</ul>

<p>
Below the L-system source box are status and more controls:
</p>

<ul class="org-ul">
<li><b>L-system status:</b> |X|Y|Z| , where X is the number of iterations/expansions
of the axiom; Y is the number of modules in the L-system expansion,
and Z is the number of modules that have been interpreted/drawn. This
last box will turn green when drawing is complete.</li>
<li><b>Draw Speed</b> is an input to control the drawing speed in modules/frame. 
It defaults to 200 and runs from 1 to 500. Higher rates tend to bog
down the browser.</li>
<li><b>Save Code</b> allows you to save that generated code as a GLB or BABYLON file.</li>
</ul>
<hr />
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Created: 2024-09-16 Mon 17:19</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
